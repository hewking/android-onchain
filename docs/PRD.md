# 产品需求文档 (PRD): Crypto.com Android 钱包仪表盘

**版本**: 1.0
**日期**: 2024-07-29

## 1. 引言

### 1.1 项目目标

开发一款 Android 钱包仪表盘（Wallet Dashboard）演示应用程序，旨在展示现代 Android 开发实践、架构模式（MVVM + Clean Architecture）和响应式编程（Kotlin Flow）的应用。该应用的核心功能是显示用户的加密货币余额及其对应的美元（USD）价值。

### 1.2 项目背景

此项目是 Crypto.com 招聘流程的一部分，用于评估候选人在 Android 开发、架构设计和代码质量方面的能力。

### 1.3 目标用户

主要目标用户是需要快速查看其在特定钱包中加密货币（BTC, ETH, CRO）持有量及其美元价值的个人用户。次要目标用户是项目评估人员（招聘团队）。

## 2. 功能需求 (FR)

| ID    | 需求描述                                                     | 优先级 | 备注                                                                 |
| :---- | :----------------------------------------------------------- | :----- | :------------------------------------------------------------------- |
| FR-01 | 应用必须能够显示支持的加密货币列表。                         | High   | 当前支持：BTC, ETH, CRO。 数据来源: `currencies-json.md`。            |
| FR-02 | 应用必须显示用户钱包中每种受支持货币的当前余额。             | High   | 数据来源: `wallet-balance-json.md`。                                  |
| FR-03 | 应用必须显示每种受支持货币相对于美元（USD）的当前汇率。       | High   | 数据来源: `live-rates-json.md`。                                      |
| FR-04 | 应用必须根据实时汇率计算并显示每种货币余额对应的美元价值。   | High   | 计算公式：`美元价值 = 货币余额 * 汇率`。                             |
| FR-05 | 仪表盘界面必须清晰地展示每种货币的名称、符号、余额和美元价值。 | High   | 建议使用列表（RecyclerView）展示。                                       |
| FR-06 | 数据（余额、汇率）更新时，界面显示应自动（响应式）更新。       | High   | 这是通过选用 Kotlin Flow 实现的核心要求。                            |
| FR-07 | 应用在加载数据时应向用户显示加载状态指示。                   | Medium | 例如，加载旋转图标或骨架屏。                                         |
| FR-08 | 应用在遇到错误（如数据加载失败）时应向用户显示明确的错误信息。 | High   | 例如，网络错误、文件读取错误、数据解析错误。                         |

## 3. 非功能需求 (NFR)

| ID     | 需求类别         | 需求描述                                                                                                    |
| :----- | :--------------- | :---------------------------------------------------------------------------------------------------------- |
| NFR-01 | 架构             | 必须采用 MVVM（Model-View-ViewModel）结合 Clean Architecture 原则进行设计。                                 |
| NFR-02 | 语言             | 必须使用 Kotlin 作为主要开发语言。                                                                          |
| NFR-03 | 响应式编程       | 必须使用 Kotlin Coroutine Flow 来处理异步操作和数据流。                                                     |
| NFR-04 | 数据持久化/来源  | 应用当前阶段从指定的本地 JSON 文件读取数据。无需实现网络请求或本地数据库存储。                                |
| NFR-05 | 代码质量         | - 遵循 Kotlin 官方编码规范。<br>- 遵循 SOLID 原则。<br>- 实现适当的错误处理和边缘情况考虑。<br>- 保持代码整洁、结构清晰、可维护性高。<br>- 移除无用代码和资源。 |
| NFR-06 | 测试             | 必须为关键业务逻辑（如计算、数据转换）和 ViewModel 编写单元测试。                                           |
| NFR-07 | 版本控制         | 使用 Git 进行版本控制，要求有意义的、持续的提交记录。                                                         |
| NFR-08 | 依赖管理         | 使用 Gradle 和 `libs.versions.toml` 管理依赖。                                                            |
| NFR-09 | UI/UX            | （虽然未详述）界面应简洁、直观、易于理解。建议遵循 Material Design 指南。                                   |
| NFR-10 | 依赖注入         | 推荐使用依赖注入框架（如 Hilt 或 Koin）管理依赖关系。                                                       |
| NFR-11 | 构建             | 项目必须能够通过标准 Gradle 命令 (`./gradlew build`) 成功构建。                                              |

## 4. 数据源

应用依赖以下三个 JSON 文件作为数据来源：

1.  **`json/currencies-json.md`**: 提供支持的加密货币列表，包含货币 ID、名称和符号等信息。
2.  **`json/live-rates-json.md`**: 提供各种加密货币到美元的实时汇率。
3.  **`json/wallet-balance-json.md`**: 提供用户钱包中持有的各种加密货币的数量。

## 5. 验收标准 (示例)

*   **AC-01**: 应用成功启动并显示主仪表盘界面。
*   **AC-02**: 仪表盘列表正确显示 BTC, ETH, CRO 三种货币。
*   **AC-03**: 每种货币的余额与 `wallet-balance-json.md` 中的数据一致。
*   **AC-04**: 每种货币的美元价值根据 `live-rates-json.md` 中的汇率和余额正确计算并显示。
*   **AC-05**: 在模拟数据加载缓慢时，能看到加载指示器。
*   **AC-06**: 在模拟 JSON 文件读取失败或格式错误时，能看到相应的错误提示信息。
*   **AC-07**: 单元测试覆盖所有核心计算逻辑和 ViewModel 状态转换。
*   **AC-08**: 项目代码遵循约定的架构和编码规范。

## 6. 未来考虑 (非本次任务范围)

*   从网络 API 获取实时数据。
*   添加更多加密货币支持。
*   用户认证。
*   本地数据缓存。
*   历史价格图表。
*   交易功能。

</rewritten_file> 